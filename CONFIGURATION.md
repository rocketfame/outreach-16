# –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è API –∫–ª—é—á—ñ–≤

## üìç –û–¥–Ω–µ –º—ñ—Å—Ü–µ –¥–ª—è –≤—Å—ñ—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

–í—Å—ñ API –∫–ª—é—á—ñ –Ω–∞–ª–∞—à—Ç–æ–≤—É—é—Ç—å—Å—è **—Ç—ñ–ª—å–∫–∏ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ**: —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É.

–í—Å—è –ª–æ–≥—ñ–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–ª—é—á—ñ–≤ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ `lib/config.ts` - —Ü–µ —î–¥–∏–Ω–µ –¥–∂–µ—Ä–µ–ª–æ –ø—Ä–∞–≤–¥–∏ –¥–ª—è –≤—Å—ñ—Ö API –∫–ª—é—á—ñ–≤.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
.env.local                    ‚Üê –î–û–î–ê–ô–¢–ï –ö–õ–Æ–ß–Ü –¢–£–¢ (—Ç—ñ–ª—å–∫–∏ –æ–¥–∏–Ω —Ä–∞–∑!)
‚îú‚îÄ‚îÄ OPENAI_API_KEY=sk-...
‚îî‚îÄ‚îÄ TAVILY_API_KEY=tvly-...

lib/config.ts                 ‚Üê –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îú‚îÄ‚îÄ getOpenAIApiKey()         ‚Üê –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è OpenAI –∫–ª—é—á–∞
‚îú‚îÄ‚îÄ getTavilyApiKey()         ‚Üê –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è Tavily –∫–ª—é—á–∞
‚îú‚îÄ‚îÄ getOpenAIClient()         ‚Üê –ì–æ—Ç–æ–≤–∏–π OpenAI –∫–ª—ñ—î–Ω—Ç
‚îú‚îÄ‚îÄ logApiKeyStatus()         ‚Üê –ë–µ–∑–ø–µ—á–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∫–ª—é—á—ñ–≤
‚îî‚îÄ‚îÄ validateApiKeys()         ‚Üê –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –∫–ª—é—á—ñ–≤

app/api/*/route.ts            ‚Üê –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å lib/config.ts
lib/tavilyClient.ts           ‚Üê –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î lib/config.ts
```

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î

1. **–î–æ–¥–∞–π—Ç–µ –∫–ª—é—á—ñ –æ–¥–∏–Ω —Ä–∞–∑** –≤ `.env.local`
2. **–í—Å—ñ —Ñ–∞–π–ª–∏** –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `lib/config.ts`
3. **–í–∞–ª—ñ–¥–∞—Ü—ñ—è** –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
4. **–ü–æ–º–∏–ª–∫–∏** –ø–æ–∫–∞–∑—É—é—Ç—å —á—ñ—Ç–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º–∏

## –ü–µ—Ä–µ–≤–∞–≥–∏

‚úÖ **–ù–µ–º–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è** - –∫–ª—é—á—ñ –Ω–∞–ª–∞—à—Ç–æ–≤—É—é—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑  
‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è** - –≤—Å—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ  
‚úÖ **–õ–µ–≥—à–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏** - –∑–º—ñ–Ω–∏ –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ  
‚úÖ **–ß—ñ—Ç–∫—ñ –ø–æ–º–∏–ª–∫–∏** - –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤–∫–∞–∑—É—é—Ç—å –Ω–∞ `.env.local`  
‚úÖ **–ë–µ–∑–ø–µ–∫–∞** - –∫–ª—é—á—ñ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –ª–æ–≥—É—é—Ç—å—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∫–æ–¥—ñ

### –î–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É (—Å—Ç–∞—Ä–∏–π —Å–ø–æ—Å—ñ–±):
```typescript
// ‚ùå –î—É–±–ª—é–≤–∞–Ω–Ω—è –≤ –∫–æ–∂–Ω–æ–º—É —Ñ–∞–π–ª—ñ
const apiKey = process.env.OPENAI_API_KEY;
if (!apiKey) {
  throw new Error("Missing key");
}
if (!apiKey.startsWith("sk-")) {
  throw new Error("Invalid format");
}
const openai = new OpenAI({ apiKey });
```

### –ü—ñ—Å–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É (–Ω–æ–≤–∏–π —Å–ø–æ—Å—ñ–±):
```typescript
// ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
import { getOpenAIClient, validateApiKeys } from "@/lib/config";

validateApiKeys(); // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –∫–ª—é—á—ñ–≤
const openai = getOpenAIClient(); // –ì–æ—Ç–æ–≤–∏–π –∫–ª—ñ—î–Ω—Ç
```

## –§–∞–π–ª–∏, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é

- `app/api/generate-topics/route.ts` - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Ç–µ–º
- `app/api/articles/route.ts` - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —Å—Ç–∞—Ç–µ–π
- `app/api/generate/route.ts` - –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–Ω—Ç—É
- `lib/tavilyClient.ts` - –ø–æ—à—É–∫ —á–µ—Ä–µ–∑ Tavily

–í—Å—ñ —Ü—ñ —Ñ–∞–π–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ—Ç—Ä–∏–º—É—é—Ç—å –≤–∞–ª—ñ–¥–æ–≤–∞–Ω—ñ –∫–ª—é—á—ñ –∑ `lib/config.ts`.

## –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö API –∫–ª—é—á—ñ–≤

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π API –∫–ª—é—á:

1. –î–æ–¥–∞–π—Ç–µ –≤ `.env.local`:
   ```bash
   NEW_API_KEY=your-key-here
   ```

2. –î–æ–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü—ñ—é –≤ `lib/config.ts`:
   ```typescript
   export function getNewApiKey(): string {
     const apiKey = process.env.NEW_API_KEY;
     if (!apiKey) {
       throw new Error("Missing NEW_API_KEY in .env.local");
     }
     // –í–∞–ª—ñ–¥–∞—Ü—ñ—è...
     return apiKey;
   }
   ```

3. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –≤ –∫–æ–¥—ñ:
   ```typescript
   import { getNewApiKey } from "@/lib/config";
   const key = getNewApiKey();
   ```

## –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏:
```bash
node check-env.js
```

–ê–±–æ –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Ä—É—á–Ω—É:
```bash
cat .env.local
```












